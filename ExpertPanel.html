<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expert Panel</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #3f37c9;
            --accent: #4895ef;
            --light: #f8f9fa;
            --dark: #000000;
            --success: #4cc9f0;
            --warning: #f72585;
            --danger: #ef233c;
            --gray: #6c757d;
            --card-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient( to left, 
    #fffefe 0%,     /* Dark black at the top */
    #f1f1f1 30%,    /* Dark gray transition */
    #c3c2c2 60%,    /* Lighter gray in the middle */
    #ff6f00 100%    /* Warm orange at the bottom */
);
            color: var(--dark);
            line-height: 1.6;
            transition: var(--transition);
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 2rem;
            background: white;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
        }

        h1 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-weight: 700;
            text-align: center;
            position: relative;
            padding-bottom: 1rem;
        }

        h1::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(to right, var(--primary), var(--accent));
            border-radius: 2px;
        }

        .button-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0;
        }

        button {
            padding: 0.8rem 1.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            border: none;
            border-radius: 50px;
            background: var(--primary);
            color: white;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        button:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        button i {
            font-size: 1.1rem;
        }

        .dark-mode {
            background: linear-gradient( to right, 
            #000000 0%,     /* Dark black at the top */
            #0f0f0f 30%,    /* Dark gray transition */
            #484848 60%,    /* Lighter gray in the middle */
            #ff6f00 100%    /* Warm orange at the bottom */
        );
            color: var(--light);
        }

        .dark-mode .container {
            background: #000000;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .project-card {
            background: #0f3460;
            color: var(--light);
        }

        .dark-mode input,
        .dark-mode textarea,
        .dark-mode select {
            background: #1a1a2e;
            color: var(--light);
            border-color: #4a4a4a;
        }

        .project-card {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            border-left: 4px solid var(--primary);
        }

        .project-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .project-card h3 {
            color: var(--primary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .project-card p {
            margin: 0.5rem 0;
        }

        .project-card .meta {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        .project-card .meta span {
            display: flex;
            align-items: center;
            gap: 0.3rem;
            padding: 0.3rem 0.6rem;
            border-radius: 20px;
            background: rgba(67, 97, 238, 0.1);
            color: var(--primary);
        }

        .project-card .actions {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .project-card .status {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-open {
            background: rgba(76, 201, 240, 0.2);
            color: var(--success);
        }

        .status-progress {
            background: rgba(239, 35, 60, 0.2);
            color: var(--danger);
        }

        .status-completed {
            background: rgba(72, 149, 239, 0.2);
            color: var(--accent);
        }

        .comment-box {
            width: 100%;
            margin-top: 1rem;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            resize: vertical;
            transition: var(--transition);
        }

        .comment-box:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(67, 97, 238, 0.2);
        }

        .leaderboard {
            margin-top: 2rem;
            padding: 1.5rem;
            background: rgba(49, 49, 49, 0.5);
            border-radius: 10px;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .leaderboard h3 {
            color: var(--primary);
            margin-bottom: 1rem;
            text-align: center;
        }

        .leaderboard ol {
            padding-left: 1.5rem;
        }

        .leaderboard li {
            margin: 0.5rem 0;
            padding: 0.5rem;
            border-radius: 5px;
            transition: var(--transition);
        }

        .leaderboard li:hover {
            background: rgba(0, 0, 0, 0.05);
        }

        input, select {
            padding: 0.8rem 1rem;
            margin: 0.5rem 0;
            border: 1px solid #ddd;
            border-radius: 8px;
            width: 100%;
            max-width: 400px;
            transition: var(--transition);
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(67, 97, 238, 0.2);
        }

        .search-filter {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            justify-content: center;
            margin: 1.5rem 0;
        }

        /* Modal Styling */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            transition: var(--transition);
        }

        .modal-content {
            background-color: white;
            margin: 10% auto;
            padding: 2rem;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            animation: modalFadeIn 0.3s ease-out;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .close {
            float: right;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            color: var(--gray);
            transition: var(--transition);
        }

        .close:hover {
            color: var(--danger);
            transform: rotate(90deg);
        }

        .input-field {
            width: 100%;
            padding: 0.8rem 1rem;
            margin: 0.8rem 0;
            border: 1px solid #ddd;
            border-radius: 8px;
            transition: var(--transition);
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(67, 97, 238, 0.2);
        }

        .modal h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        /* Comments section */
        .comments-section {
            margin-top: 1.5rem;
            border-top: 1px solid #eee;
            padding-top: 1rem;
        }

        .comment {
            background: #f9f9f9;
            padding: 0.8rem;
            border-radius: 8px;
            margin: 0.5rem 0;
            font-size: 0.9rem;
        }

        .comment-author {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 0.3rem;
        }

        .comment-date {
            font-size: 0.8rem;
            color: var(--gray);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                padding: 1.5rem;
                margin: 1rem;
            }
            
            .button-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            button {
                width: 100%;
                justify-content: center;
            }
            
            .project-card .actions {
                flex-direction: column;
            }
            
            .project-card .actions button {
                width: 100%;
            }
        }

        /* Floating action button */
        .fab {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: var(--transition);
            z-index: 100;
            border: none;
        }

        .fab:hover {
            background: var(--primary-dark);
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            font-weight: 600;
            line-height: 1;
            text-align: center;
            white-space: nowrap;
            vertical-align: baseline;
            border-radius: 0.25rem;
        }

        .badge-primary {
            color: #fff;
            background-color: var(--primary);
        }

        .badge-secondary {
            color: #fff;
            background-color: var(--secondary);
        }

        .badge-success {
            color: #fff;
            background-color: var(--success);
        }

        .badge-warning {
            color: #fff;
            background-color: var(--warning);
        }

        .badge-danger {
            color: #fff;
            background-color: var(--danger);
        }
    </style>
</head>
<body>

    <div class="container">
        <h1><i class="fas fa-users-cog"></i> Expert Panel Dashboard</h1>

        <div class="search-filter">
            <input type="text" id="searchInput" placeholder="Search projects..." class="input-field">
            <select id="filterStatus" class="input-field">
                <option value="All">All Statuses</option>
                <option value="Open">Open</option>
                <option value="In Progress">In Progress</option>
                <option value="Completed">Completed</option>
            </select>
        </div>

        <div class="button-container">
            <button onclick="toggleDarkMode()">
                <i class="fas fa-moon"></i> Toggle The Mode
            </button>
            <button id="addProjectBtn">
                <i class="fas fa-plus"></i> Add Project
            </button>
            <button id="viewProjectsBtn">
                <i class="fas fa-project-diagram"></i> View Projects
            </button>
            <button id="viewLeaderboard">
                <i class="fas fa-trophy"></i> View Leaderboard
            </button>
        </div>

        <div id="leaderboard" class="leaderboard" style="display: none;">
            <h3><i class="fas fa-crown"></i> Top Contributors</h3>
            <ol id="leaderboardList"></ol>
        </div>
    </div>

    <div id="projectsList" class="container" style="display: none;">
        <h2><i class="fas fa-list-ul"></i> Current Projects</h2>
    </div>

    <!-- Modal for adding project -->
    <div id="projectModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2><i class="fas fa-plus-circle"></i> Add New Project</h2>
            <input type="text" id="projectTitle" class="input-field" placeholder="Project Title">
            <textarea id="projectDescription" class="input-field" placeholder="Project Description" rows="4"></textarea>
            <input type="date" id="projectDeadline" class="input-field">
            <div style="text-align: center; margin-top: 1.5rem;">
                <button onclick="saveProject()" style="padding: 0.8rem 2rem; font-size: 1.1rem;">
                    <i class="fas fa-save"></i> Save Project
                </button>
            </div>
        </div>
    </div>

    <!-- Floating action button -->
    <button class="fab" onclick="document.getElementById('addProjectBtn').click()">
        <i class="fas fa-plus"></i>
    </button>

    <script>
        let projects = [
            {
                title: "Website Redesign",
                description: "Complete redesign of the company website with modern UI/UX principles",
                deadline: "2023-12-15",
                replies: [],
                assignedTo: "John Doe",
                status: "In Progress",
                likes: 5,
                comments: [
                    { author: "Sarah", text: "Great start on the homepage design!", date: "2023-10-10" },
                    { author: "Mike", text: "Don't forget about mobile responsiveness", date: "2023-10-12" }
                ]
            },
            {
                title: "Mobile App Development",
                description: "Build a cross-platform mobile application for iOS and Android",
                deadline: "2024-02-28",
                replies: [],
                assignedTo: "Alice Smith",
                status: "Open",
                likes: 3,
                comments: []
            }
        ];
        
        let students = {
            "John Doe": { points: 150, role: "Developer" },
            "Alice Smith": { points: 200, role: "Designer" },
            "Mike Johnson": { points: 90, role: "Tester" }
        };
        
        let notifications = [];

        function toggleDarkMode() {
            document.body.classList.toggle("dark-mode");
            localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
        }

        // Check for saved dark mode preference
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
        }

        document.getElementById("addProjectBtn").addEventListener("click", function() {
            document.getElementById("projectModal").style.display = "block";
            document.getElementById("projectTitle").focus();
        });

        document.getElementById("viewProjectsBtn").addEventListener("click", function() {
            const projectsList = document.getElementById("projectsList");
            if (projectsList.style.display === "none" || projectsList.style.display === "") {
                projectsList.style.display = "block";
                displayProjects();
            } else {
                projectsList.style.display = "none";
            }
        });

        document.getElementById("viewLeaderboard").addEventListener("click", function() {
            const leaderboard = document.getElementById("leaderboard");
            if (leaderboard.style.display === "none" || leaderboard.style.display === "") {
                leaderboard.style.display = "block";
                displayLeaderboard();
            } else {
                leaderboard.style.display = "none";
            }
        });

        function closeModal() {
            document.getElementById("projectModal").style.display = "none";
            // Clear form fields
            document.getElementById("projectTitle").value = "";
            document.getElementById("projectDescription").value = "";
            document.getElementById("projectDeadline").value = "";
        }

        function saveProject() {
            let title = document.getElementById("projectTitle").value.trim();
            let description = document.getElementById("projectDescription").value.trim();
            let deadline = document.getElementById("projectDeadline").value;

            if (title && description && deadline) {
                projects.push({
                    title,
                    description,
                    deadline,
                    replies: [],
                    assignedTo: "",
                    status: "Open",
                    likes: 0,
                    comments: []
                });
                
                showNotification("Project added successfully!", "success");
                closeModal();
                displayProjects();
            } else {
                showNotification("Please fill in all fields!", "error");
            }
        }

        function displayProjects() {
            let projectContainer = document.getElementById("projectsList");
            projectContainer.innerHTML = "<h2><i class='fas fa-list-ul'></i> Current Projects</h2>";

            if (projects.length === 0) {
                projectContainer.innerHTML += "<p style='text-align: center;'>No projects added yet.</p>";
                return;
            }

            projects.forEach((project, index) => {
                let projectCard = document.createElement("div");
                projectCard.className = "project-card";
                
                // Determine status class
                let statusClass = "";
                if (project.status === "Open") statusClass = "status-open";
                else if (project.status === "In Progress") statusClass = "status-progress";
                else if (project.status === "Completed") statusClass = "status-completed";
                
                projectCard.innerHTML = `
                    <h3><i class="fas fa-project-diagram"></i> ${project.title}</h3>
                    <p><b>Description:</b> ${project.description}</p>
                    
                    <div class="meta">
                        <span><i class="far fa-calendar-alt"></i> ${project.deadline}</span>
                        <span class="status ${statusClass}"><i class="fas fa-circle"></i> ${project.status}</span>
                        <span><i class="fas fa-user-tie"></i> ${project.assignedTo || "Unassigned"}</span>
                        <span><i class="fas fa-heart"></i> ${project.likes} likes</span>
                    </div>
                    
                    <div class="actions">
                        <button onclick="likeProject(${index})"><i class="fas fa-thumbs-up"></i> Like</button>
                        <button onclick="assignStudent(${index})"><i class="fas fa-user-plus"></i> Assign</button>
                        <button onclick="updateStatus(${index})"><i class="fas fa-sync-alt"></i> Update Status</button>
                        <button onclick="showCommentBox(${index})"><i class="fas fa-comment"></i> Comment</button>
                        <button onclick="approveStudent(${index})"><i class="fas fa-check-circle"></i> Approve</button>
                    </div>
                    
                    <div id="comment-box-${index}" style="display: none; margin-top: 1rem;">
                        <textarea id="comment-text-${index}" class="comment-box" placeholder="Add your comment..."></textarea>
                        <button onclick="addComment(${index})" style="margin-top: 0.5rem;"><i class="fas fa-paper-plane"></i> Post Comment</button>
                    </div>
                    
                    ${project.comments.length > 0 ? `
                    <div class="comments-section">
                        <h4><i class="fas fa-comments"></i> Comments (${project.comments.length})</h4>
                        ${project.comments.map(comment => `
                            <div class="comment">
                                <div class="comment-author">${comment.author} <span class="comment-date">on ${comment.date}</span></div>
                                <p>${comment.text}</p>
                            </div>
                        `).join('')}
                    </div>
                    ` : ''}
                `;
                projectContainer.appendChild(projectCard);
            });
        }

        function showCommentBox(index) {
            const commentBox = document.getElementById(`comment-box-${index}`);
            commentBox.style.display = commentBox.style.display === 'none' ? 'block' : 'none';
            if (commentBox.style.display === 'block') {
                document.getElementById(`comment-text-${index}`).focus();
            }
        }

        function likeProject(index) {
            projects[index].likes++;
            displayProjects();
            showNotification("Project liked!", "success");
        }

        function assignStudent(index) {
            const studentName = prompt("Enter student name to assign:");
            if (studentName) {
                projects[index].assignedTo = studentName;
                displayProjects();
                showNotification(`Assigned to ${studentName}`, "success");
            }
        }

        function updateStatus(index) {
            const newStatus = prompt("Enter new status (Open/In Progress/Completed):");
            if (newStatus && ["Open", "In Progress", "Completed"].includes(newStatus)) {
                projects[index].status = newStatus;
                displayProjects();
                showNotification(`Status updated to ${newStatus}`, "success");
            } else {
                showNotification("Invalid status entered", "error");
            }
        }

        function addComment(index) {
            const commentText = document.getElementById(`comment-text-${index}`).value.trim();
            if (commentText) {
                const author = prompt("Enter your name:");
                if (author) {
                    const today = new Date().toISOString().split('T')[0];
                    projects[index].comments.push({
                        author,
                        text: commentText,
                        date: today
                    });
                    document.getElementById(`comment-text-${index}`).value = "";
                    displayProjects();
                    showNotification("Comment added!", "success");
                }
            } else {
                showNotification("Comment cannot be empty", "error");
            }
        }

        function approveStudent(index) {
            if (projects[index].assignedTo) {
                if (confirm(`Approve ${projects[index].assignedTo}'s work on "${projects[index].title}"?`)) {
                    if (!students[projects[index].assignedTo]) {
                        students[projects[index].assignedTo] = { points: 0, role: "Member" };
                    }
                    students[projects[index].assignedTo].points += 50;
                    displayLeaderboard();
                    showNotification(`${projects[index].assignedTo} approved and awarded 50 points!`, "success");
                }
            } else {
                showNotification("No student assigned to this project", "error");
            }
        }

        function displayLeaderboard() {
            const leaderboardList = document.getElementById("leaderboardList");
            leaderboardList.innerHTML = "";
            
            // Convert students object to array and sort by points
            const sortedStudents = Object.entries(students)
                .map(([name, data]) => ({ name, ...data }))
                .sort((a, b) => b.points - a.points);
            
            sortedStudents.forEach((student, index) => {
                const li = document.createElement("li");
                li.innerHTML = `
                    <span class="badge ${index < 3 ? 'badge-warning' : 'badge-primary'}">${index + 1}</span>
                    ${student.name} - ${student.role} (${student.points} pts)
                `;
                leaderboardList.appendChild(li);
            });
        }

        function searchProjects() {
            const searchTerm = document.getElementById("searchInput").value.toLowerCase();
            const filteredProjects = projects.filter(project => 
                project.title.toLowerCase().includes(searchTerm) || 
                project.description.toLowerCase().includes(searchTerm)
            );
            
            // Update display with filtered projects
            // (In a real app, you would re-render the projects list)
            console.log("Search results:", filteredProjects);
        }

        function filterProjects() {
            const status = document.getElementById("filterStatus").value;
            const filteredProjects = status === "All" 
                ? projects 
                : projects.filter(project => project.status === status);
            
            // Update display with filtered projects
            // (In a real app, you would re-render the projects list)
            console.log("Filtered projects:", filteredProjects);
        }

        function showNotification(message, type) {
            const notification = document.createElement("div");
            notification.className = `notification ${type}`;
            notification.textContent = message;
            notification.style.position = "fixed";
            notification.style.bottom = "20px";
            notification.style.right = "20px";
            notification.style.padding = "15px 20px";
            notification.style.backgroundColor = type === "error" ? "var(--danger)" : "var(--success)";
            notification.style.color = "white";
            notification.style.borderRadius = "5px";
            notification.style.boxShadow = "0 3px 10px rgba(0, 0, 0, 0.2)";
            notification.style.zIndex = "1000";
            notification.style.animation = "fadeIn 0.3s";
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = "fadeOut 0.3s";
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById("projectModal");
            if (event.target === modal) {
                closeModal();
            }
        };
        // Initialize the display
        displayLeaderboard();
    </script>

</body>
</html>